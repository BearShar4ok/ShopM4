@using ShopM4_Utility;
@model ShopM4_Models.ViewModels.DetailsViewModel
@{
    ViewData["Title"] = "Details";
}
<form method="post" asp-action="DetailsPost">
    <p>
        <input asp-for="Product.Id" hidden/>
    </p>
    <p>
        <h2>@Model.Product.Name</h2>
        <h2>@Model.Product.Price</h2>
    </p>

    <p>
        <img src="@PathManager.ImageProductPath@Model.Product.Image" width="100" height="100" />
    </p>

    <p>
        <h3>@Model.Product.Category.Name</h3>
    </p>

    <p>
            @Html.Raw(Model.Product.Description)
    </p>
    @if(User.IsInRole(ShopM4_Utility.PathManager.AdminRole))
    {
        <p>Count: </p>
        <p>
            @if(Model.IsInCart)
            {
                <input disabled class="form-control"  asp-for="@Model.Product.TempCount"/>
            }
            else
            {
                <input class="form-control"  asp-for="@Model.Product.TempCount"/>
            }
        </p>
    }
    <p>
        <a class="btn btn-primary" asp-action="Index">Back</a>

        @if(Model.IsInCart)
        {
                    <button class="btn btn-warning" asp-controller="Home" asp-action="RemoveFromCart" 
            asp-route-id="@Model.Product.Id">Remove from Cart</button>
        }
        else
        {
           <button type="submit" asp-controller="Home" asp-action="DetailsPost"
        asp-route-Id="@Model.Product.Id" class="btn btn-warning">Add to car</button>
        }
        
        
    </p>
    
</form>